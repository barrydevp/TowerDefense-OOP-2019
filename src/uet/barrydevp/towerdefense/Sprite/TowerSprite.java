package uet.barrydevp.towerdefense.Sprite;import javafx.geometry.Point2D;import javafx.scene.image.Image;import javafx.scene.image.ImageView;import javafx.scene.input.MouseEvent;import uet.barrydevp.towerdefense.Game.GameSpriteManager;import uet.barrydevp.towerdefense.Tower.BaseTower;import java.util.ArrayList;public class TowerSprite extends BaseSprite {    private BaseTower tower;    private ImageView upgrade = new ImageView(GameSpriteManager.getInstance().upgradeImage);    private ImageView sell = new ImageView(GameSpriteManager.getInstance().sellImage);    private boolean isVisibleButton;    private Image image;    private ImageView imageView;    public TowerSprite(Image image, ArrayList<BaseSprite> childrenSprite, Point2D centerLocation, double r) {        init();        this.childrenSprite = childrenSprite;        this.image = image;        this.centerLocation = centerLocation;        this.originalR = r;        this.r = r;        this.width = image.getWidth(); // imageView.getBoundsInParent().getWidth();        this.height = image.getHeight(); // imageView.getBoundsInParent().getHeight();        this.imageView = new ImageView(this.image);        imageView.addEventFilter(MouseEvent.MOUSE_CLICKED, e -> {            isVisibleButton = !isVisibleButton;            upgrade.setVisible(isVisibleButton);            sell.setVisible(isVisibleButton);        });        getChildren().add(imageView);        if(childrenSprite != null) {            getChildren().addAll(childrenSprite);        }        relocate(centerLocation.getX() - width / 2, centerLocation.getY() - height / 2);//        setRotate(r);    }    public void init() {        isVisibleButton = false;        upgrade = new ImageView(GameSpriteManager.getInstance().upgradeImage);        upgrade.setFitWidth(40);        upgrade.setFitHeight(40);        upgrade.setVisible(isVisibleButton);        upgrade.setTranslateX(-10);        upgrade.setTranslateY(-40);//        upgrade.relocate(0, -40);        sell = new ImageView(GameSpriteManager.getInstance().sellImage);        sell.setFitWidth(40);        sell.setFitHeight(40);//        sell.relocate(40, -40);        sell.setTranslateX(40);        sell.setTranslateY(-40);        sell.setVisible(isVisibleButton);        getChildren().add(upgrade);        getChildren().add(sell);    }    public void updateUI() {        relocate(centerLocation.getX() - width / 2, centerLocation.getY() - height / 2);        imageView.setRotate(r);    }}