package uet.barrydevp.towerdefense.Sprite;import javafx.animation.AnimationTimer;import javafx.geometry.Point2D;import javafx.scene.canvas.Canvas;import javafx.scene.image.Image;import javafx.scene.image.ImageView;import uet.barrydevp.towerdefense.Game.GameManager;public class AnimationEffect extends AnimationTimer {    private Point2D location;    private long lastTime;    private double elapsedTime;    private double durationTime;    private ImageView imageView;    private Image image;    private Canvas canvas;    public AnimationEffect(Image image, double durationTime, Point2D location) {        this.durationTime = durationTime;        this.image = image;        this.location = location;        this.imageView = new ImageView(image);        imageView.setTranslateX(location.getX() - image.getWidth() / 2);        imageView.setTranslateY(location.getY() - image.getHeight() / 2);        canvas = new Canvas();//        this.imageView.relocate(1100, 10);    }    @Override    public void handle(long now) {        if(lastTime == 0) {            lastTime = now;            GameManager.getInstance().getTowerLayer().getChildren().add(this.imageView);        }        double tmp = (now - lastTime) / 1000000000.0;        elapsedTime += tmp;//        System.out.println(elapsedTime);        if(elapsedTime > durationTime) {            removeAnimation();        }        lastTime = now;    }    private void removeAnimation() {        GameManager.getInstance().getTowerLayer().getChildren().remove(imageView);        stop();    }}